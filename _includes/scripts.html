<!-- Bootstrap core JavaScript -->
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src={{ "/js/jquery.visible.min.js" | relative_url }}></script>

<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });

    var prevVisible = $('#page-title').visible();

    $(window).scroll(function () {
        currentVisible = $('#page-title').visible()
        if (prevVisible && !currentVisible) {
            console.log("Do something!");
            $("#page-title-bar").html($('#page-title').text());
        }

        if (!prevVisible && currentVisible) {
            $("#page-title-bar").html("")
        }

        prevVisible = currentVisible;
    });

</script>

<!-- Copy button for code blocks -->
<script>
    // This assumes that you're using Rouge; if not, update the selector
    const codeBlocks = document.querySelectorAll('.code-header + .highlighter-rouge');
    const copyCodeButtons = document.querySelectorAll('.copy-code-button');

    copyCodeButtons.forEach((copyCodeButton, index) => {
        const code = codeBlocks[index].innerText;

        copyCodeButton.addEventListener('click', () => {
            // Copy the code to the user's clipboard
            window.navigator.clipboard.writeText(code);

            // Update the button text visually
            const { innerText: originalText } = copyCodeButton;
            copyCodeButton.innerText = 'Copied!';

            // (Optional) Toggle a class for styling the button
            copyCodeButton.classList.add('copied');

            // After 2 seconds, reset the button to its initial UI
            setTimeout(() => {
                copyCodeButton.innerText = originalText;
                copyCodeButton.classList.remove('copied');
            }, 2000);
        });
    });

</script>
